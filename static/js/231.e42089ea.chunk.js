"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[231],{4612:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(5043),n=s(1327),i=s(108),c=s(7869),l=s(3439),r=s(6568),o=s(8474),d=s(579);const h=a.memo(e=>{let{history:t}=e;const s=(0,a.useMemo)(()=>{const e=t.reduce((e,t)=>{const s=t.result.overall_sentiment||"N/A";return e[s]=(e[s]||0)+1,e},{});return Object.keys(e).map(t=>({name:t,value:e[t]}))},[t]),h=(0,a.useMemo)(()=>{const e={},s={};t.forEach(t=>{const a=t.result.overall_sentiment;"Positive"!==a&&"Negative"!==a||t.result.highlighted_text.forEach(t=>{"positive"===t.sentiment?e[t.word]=(e[t.word]||0)+1:"negative"===t.sentiment&&(s[t.word]=(s[t.word]||0)+1)})});const a=e=>Object.keys(e).map(t=>({text:t,value:10*e[t]})).sort((e,t)=>t.value-e.value).slice(0,30);return{positive:a(e),negative:a(s)}},[t]),v={Positive:"var(--positive-color)",Negative:"var(--negative-color)",Mixed:"var(--accent-secondary)"},m=e=>8*Math.log2(e.value)+20,u=()=>Math.random()>.5?0:-90;return(0,d.jsxs)("div",{className:"panel metrics-panel",children:[(0,d.jsx)("h2",{className:"panel-title",children:"Th\u1ed1ng k\xea T\u1ed5ng quan"}),t.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"chart-container",children:[(0,d.jsx)("h3",{children:"Ph\xe2n b\u1ed5 c\u1ea3m x\xfac"}),(0,d.jsx)(i.u,{width:"100%",height:200,children:(0,d.jsxs)(r.r,{children:[(0,d.jsx)(l.F,{data:s,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:s.map((e,t)=>(0,d.jsx)(c.f,{fill:v[e.name]},"cell-".concat(t)))}),(0,d.jsx)(n.s,{})]})})]}),(0,d.jsxs)("div",{className:"word-clouds-container",children:[h.positive.length>0&&(0,d.jsxs)("div",{className:"word-cloud",children:[(0,d.jsx)("h3",{className:"sentiment-positive",children:"T\u1eeb kh\xf3a t\xedch c\u1ef1c"}),(0,d.jsx)(o.A,{data:h.positive,fontSize:m,rotate:u,padding:2})]}),h.negative.length>0&&(0,d.jsxs)("div",{className:"word-cloud",children:[(0,d.jsx)("h3",{className:"sentiment-negative",children:"T\u1eeb kh\xf3a ti\xeau c\u1ef1c"}),(0,d.jsx)(o.A,{data:h.negative,fontSize:m,rotate:u,padding:2})]})]})]}):(0,d.jsx)("p",{className:"placeholder-text",children:"Ch\u01b0a c\xf3 \u0111\u1ee7 d\u1eef li\u1ec7u \u0111\u1ec3 th\u1ed1ng k\xea."})]})})}}]);
//# sourceMappingURL=231.e42089ea.chunk.js.map